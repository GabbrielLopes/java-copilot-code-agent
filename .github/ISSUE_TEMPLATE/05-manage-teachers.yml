name: üë®‚Äçüè´ Gerenciar Professores
description: Adicionar, modificar ou remover professores do sistema
title: "[Professor]: "
labels: ["enhancement", "teacher"]
assignees:
  - copilot

body:
  - type: markdown
    attributes:
      value: |
        ## üë®‚Äçüè´ Gerenciamento de Professores
        
        Use este formul√°rio para gerenciar contas de professores no sistema.

  - type: dropdown
    id: action-type
    attributes:
      label: Tipo de A√ß√£o
      description: O que voc√™ deseja fazer?
      options:
        - Adicionar novo professor
        - Modificar professor existente
        - Remover professor
        - Redefinir senha de professor
    validations:
      required: true

  - type: input
    id: teacher-username
    attributes:
      label: Nome de Usu√°rio do Professor
      description: Username usado para login (sem espa√ßos, use . ou _ se necess√°rio)
      placeholder: "Ex: teacher.silva"
    validations:
      required: true

  - type: input
    id: display-name
    attributes:
      label: Nome de Exibi√ß√£o
      description: Nome completo do professor para exibi√ß√£o. Necess√°rio apenas para novo professor.
      placeholder: "Ex: Jo√£o Silva"
    validations:
      required: false

  - type: dropdown
    id: role
    attributes:
      label: Perfil
      description: Tipo de acesso do professor
      options:
        - N√£o alterar
        - Professor (TEACHER)
        - Administrador (ADMIN)
    validations:
      required: false

  - type: input
    id: new-password
    attributes:
      label: Nova Senha (se aplic√°vel)
      description: Use apenas para novo professor ou redefini√ß√£o de senha. A senha ser√° encriptada com Argon2.
      placeholder: "Deixe em branco para gerar senha autom√°tica"
    validations:
      required: false

  - type: textarea
    id: reason
    attributes:
      label: Motivo da Altera√ß√£o
      description: Explique brevemente por que esta altera√ß√£o √© necess√°ria
      placeholder: "Ex: Novo professor contratado para o departamento de ci√™ncias"
    validations:
      required: true

  - type: checkboxes
    id: confirmations
    attributes:
      label: Confirma√ß√µes
      description: Confirme as seguintes informa√ß√µes
      options:
        - label: Tenho autoriza√ß√£o para fazer esta altera√ß√£o
          required: true
        - label: As informa√ß√µes fornecidas est√£o corretas
          required: true
        - label: Entendo que isso afetar√° o acesso ao sistema (se remover ou alterar)
          required: false

  - type: textarea
    id: additional-context
    attributes:
      label: Informa√ß√µes Adicionais
      description: Qualquer outra informa√ß√£o relevante
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        
        ## üìù Crit√©rios de Aceita√ß√£o
        
        A opera√ß√£o ser√° considerada conclu√≠da quando:
        - ‚úÖ O professor for adicionado/modificado/removido conforme solicitado
        - ‚úÖ As credenciais de login funcionarem corretamente (para novo ou senha alterada)
        - ‚úÖ O perfil (role) estiver configurado corretamente
        - ‚úÖ A senha estiver encriptada com Argon2 no banco de dados
        - ‚úÖ O professor aparecer/n√£o aparecer na lista conforme a a√ß√£o
        
        ## üîß Contexto T√©cnico
        
        **Arquivos que precisar√£o ser modificados:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/migrations/` - Criar migra√ß√£o para gerenciar professores
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/entities/Teacher.java` - Refer√™ncia da entidade
        
        **Dicas para o agente de codifica√ß√£o:**
        - Use a classe `Teacher` do pacote `domain.entities`
        - A enum `Teacher.Role` tem valores: TEACHER e ADMIN
        - Senhas devem ser encriptadas com Argon2PasswordEncoder (j√° configurado)
        - Crie uma nova migration (ex: V00X_AddTeacher.java)
        - Use `mongoTemplate.save()` para adicionar
        - Use `mongoTemplate.updateFirst()` para modificar
        - Use `mongoTemplate.remove()` para remover
        - Implemente @RollbackExecution para reverter
        - Para gerar senha autom√°tica, use: `UUID.randomUUID().toString().substring(0, 12)`
        - **IMPORTANTE**: N√£o commite senhas em texto plano. Use vari√°veis de ambiente ou gera√ß√£o autom√°tica.
        - Valide que o username n√£o existe antes de adicionar (√© chave prim√°ria)
        - Se remover professor, considere impacto em atividades relacionadas
