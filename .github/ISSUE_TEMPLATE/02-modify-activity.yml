name: ‚úèÔ∏è Modificar Atividade Existente
description: Solicitar altera√ß√µes em uma atividade extracurricular j√° existente
title: "[Modificar Atividade]: "
labels: ["enhancement", "activity"]
assignees:
  - copilot

body:
  - type: markdown
    attributes:
      value: |
        ## üìù Solicita√ß√£o de Modifica√ß√£o de Atividade
        
        Use este formul√°rio para solicitar altera√ß√µes em uma atividade existente. Preencha apenas os campos que precisam ser modificados.

  - type: input
    id: activity-name
    attributes:
      label: Nome da Atividade a Modificar
      description: O nome exato da atividade que deve ser modificada (como aparece no sistema)
      placeholder: "Ex: Clube de Xadrez"
    validations:
      required: true

  - type: dropdown
    id: change-type
    attributes:
      label: Tipo de Modifica√ß√£o
      description: Selecione o que precisa ser alterado
      multiple: true
      options:
        - Nome da atividade
        - Descri√ß√£o
        - Tipo/Categoria
        - Hor√°rios
        - Dias da semana
        - Capacidade m√°xima
        - Remover participantes existentes
    validations:
      required: true

  - type: input
    id: new-name
    attributes:
      label: Novo Nome (se aplic√°vel)
      description: Deixe em branco se n√£o for alterar o nome
      placeholder: "Ex: Clube de Xadrez Avan√ßado"
    validations:
      required: false

  - type: textarea
    id: new-description
    attributes:
      label: Nova Descri√ß√£o (se aplic√°vel)
      description: Deixe em branco se n√£o for alterar a descri√ß√£o
      placeholder: "Ex: Aprenda estrat√©gias avan√ßadas e participe de torneios internacionais"
    validations:
      required: false

  - type: dropdown
    id: new-type
    attributes:
      label: Novo Tipo (se aplic√°vel)
      description: Deixe em branco se n√£o for alterar o tipo
      options:
        - N√£o alterar
        - Esportes (SPORTS)
        - Artes (ARTS)
        - Acad√™mico (ACADEMIC)
        - Comunidade (COMMUNITY)
        - Tecnologia (TECHNOLOGY)
    validations:
      required: false

  - type: checkboxes
    id: new-days
    attributes:
      label: Novos Dias da Semana (se aplic√°vel)
      description: Marque apenas se for alterar os dias. Selecione todos os dias desejados.
      options:
        - label: Segunda-feira (Monday)
        - label: Ter√ßa-feira (Tuesday)
        - label: Quarta-feira (Wednesday)
        - label: Quinta-feira (Thursday)
        - label: Sexta-feira (Friday)
        - label: S√°bado (Saturday)
        - label: Domingo (Sunday)
    validations:
      required: false

  - type: input
    id: new-start-time
    attributes:
      label: Novo Hor√°rio de In√≠cio (se aplic√°vel)
      description: Formato 24h (HH:MM). Deixe em branco se n√£o for alterar.
      placeholder: "Ex: 16:00"
    validations:
      required: false

  - type: input
    id: new-end-time
    attributes:
      label: Novo Hor√°rio de T√©rmino (se aplic√°vel)
      description: Formato 24h (HH:MM). Deixe em branco se n√£o for alterar.
      placeholder: "Ex: 18:00"
    validations:
      required: false

  - type: input
    id: new-max-participants
    attributes:
      label: Nova Capacidade M√°xima (se aplic√°vel)
      description: Deixe em branco se n√£o for alterar
      placeholder: "Ex: 25"
    validations:
      required: false

  - type: textarea
    id: reason
    attributes:
      label: Motivo da Modifica√ß√£o
      description: Explique brevemente por que esta altera√ß√£o √© necess√°ria
      placeholder: "Ex: Os estudantes pediram mais tempo para completar os projetos"
    validations:
      required: true

  - type: textarea
    id: additional-context
    attributes:
      label: Informa√ß√µes Adicionais
      description: Qualquer outra informa√ß√£o relevante
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        
        ## üìù Crit√©rios de Aceita√ß√£o
        
        A modifica√ß√£o ser√° considerada implementada quando:
        - ‚úÖ A atividade especificada for localizada no sistema
        - ‚úÖ As altera√ß√µes solicitadas forem aplicadas corretamente
        - ‚úÖ A atividade modificada aparecer corretamente na listagem
        - ‚úÖ Os filtros continuarem funcionando com as novas informa√ß√µes
        - ‚úÖ Os participantes existentes forem preservados (a menos que solicitado remover)
        - ‚úÖ Os testes continuarem passando
        
        ## üîß Contexto T√©cnico
        
        **Arquivos que precisar√£o ser modificados:**
        - `src/main/java/com/mergingtonhigh/schoolmanagement/infrastructure/migrations/` - Criar nova migra√ß√£o para atualizar a atividade
        
        **Dicas para o agente de codifica√ß√£o:**
        - Crie uma nova migration (ex: V00X_UpdateActivityName.java)
        - Use `mongoTemplate.updateFirst()` ou `mongoTemplate.findAndModify()`
        - Mantenha o padr√£o @ChangeUnit com ordem sequencial
        - Implemente @RollbackExecution para reverter a mudan√ßa
        - Se alterar o nome (ID da atividade), considere o impacto nos participantes
        - Valide que a atividade existe antes de modificar
